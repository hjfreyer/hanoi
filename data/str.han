use 'crate::builtin;

mod symbol { 
    mod iter {
        use 'crate::builtin;

        def new c#do [symbol => #iter{symbol, 0}]

        def next c#do [#iter{symbol, offset} => 
            (*offset, *symbol 'builtin::symbol_len) 'builtin::lt if {
                (#iter{*symbol, (*offset, 1) 'builtin::add}, #some{(symbol, offset) 'builtin::symbol_char_at})
            } else {
                (#iter{symbol, offset}, #none{})
            }
        ]
    }
}